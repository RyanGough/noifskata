Some horrible code to use as the basis of a "no ifs" refactoring session...
